<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Solidity - Passing functions as parameters</h1><p class="page-description">As the age old saying goes - Functions are first class citizen in Solidity</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-09-27T00:00:00-05:00" itemprop="datePublished">
        Sep 27, 2022
      </time>
       â€¢ <span class="read-time" title="Estimated read time">
    
    
      2 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/categories/#web3">web3</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#language-tricks">language-tricks</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#intermediate">intermediate</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#solidity">solidity</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#function-types">Function Types</a></li>
<li class="toc-entry toc-h2"><a href="#example">Example</a>
<ul>
<li class="toc-entry toc-h3"><a href="#1-format-of-function-types-is-the-following">1. Format of function types is the following:</a></li>
<li class="toc-entry toc-h3"><a href="#2-conversions">2. Conversions</a>
<ul>
<li class="toc-entry toc-h4"><a href="#21-pure-can-be-converted-to-view-and-non-payable">2.1 pure can be converted to view and non-payable</a></li>
<li class="toc-entry toc-h4"><a href="#22-view-can-be-converted-to-non-payable">2.2 view can be converted to non-payable</a></li>
<li class="toc-entry toc-h4"><a href="#23-non-payable-can-be-converted-to-payable">2.3 non-payable can be converted to payable</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#3-a-short-mock-implementation-of-this-concept">3. A short mock implementation of this concept</a></li>
</ul>
</li>
</ul><h2 id="function-types">
<a class="anchor" href="#function-types" aria-hidden="true"><span class="octicon octicon-link"></span></a>Function Types</h2>

<p>For official documentations follow this <a href="https://docs.soliditylang.org/en/v0.8.11/types.html#function-types">link</a>.</p>

<p>So, in Solidity, you can pass functions themselves as parameters to other functions. These type of parameters are called function types.</p>

<p>These function types can be used to pass and return functions from function calls.</p>

<h2 id="example">
<a class="anchor" href="#example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h2>

<h3 id="1-format-of-function-types-is-the-following">
<a class="anchor" href="#1-format-of-function-types-is-the-following" aria-hidden="true"><span class="octicon octicon-link"></span></a>1. Format of function types is the following:</h3>

<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">parameter</span> <span class="n">types</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span><span class="k">internal</span> <span class="o">|</span> <span class="k">external</span><span class="p">}</span> <span class="p">[</span><span class="k">pure</span> <span class="o">|</span> <span class="k">view</span> <span class="o">|</span> <span class="k">payable</span><span class="p">]</span> <span class="p">[</span><span class="k">returns</span><span class="p">(</span><span class="o">&lt;</span><span class="k">return</span> <span class="n">types</span><span class="o">&gt;</span><span class="p">)]</span>
</code></pre></div></div>

<blockquote>
  <p>Note : Function types can only be internal or external. Also, the <code class="language-plaintext highlighter-rouge">return types</code> cannot be empty if the function in question does not return anything, in this case, completely omit the <code class="language-plaintext highlighter-rouge">returns</code> keyword.</p>
</blockquote>

<h3 id="2-conversions">
<a class="anchor" href="#2-conversions" aria-hidden="true"><span class="octicon octicon-link"></span></a>2. Conversions</h3>

<p>function <code class="language-plaintext highlighter-rouge">A</code> can be converted to function <code class="language-plaintext highlighter-rouge">B</code> if they identical parameter types, identical return types, identical internal/external propery, and state mutability of <code class="language-plaintext highlighter-rouge">A</code> is more restrictive than <code class="language-plaintext highlighter-rouge">B</code>.</p>

<p>Since <code class="language-plaintext highlighter-rouge">view</code> says that no state will be changed whereas <code class="language-plaintext highlighter-rouge">pure</code> says no state variable will be changed or read. Therefore, <code class="language-plaintext highlighter-rouge">pure</code> is more restrictive than <code class="language-plaintext highlighter-rouge">view</code></p>

<p>Also, rememeber that all <code class="language-plaintext highlighter-rouge">non-payable</code> functions are <code class="language-plaintext highlighter-rouge">payable</code> (accepting 0 Ether), but no non-payable is payable. Therefore <code class="language-plaintext highlighter-rouge">non-payable</code> is more restrictive.</p>

<p>So,</p>
<h4 id="21-pure-can-be-converted-to-view-and-non-payable">
<a class="anchor" href="#21-pure-can-be-converted-to-view-and-non-payable" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.1 <code class="language-plaintext highlighter-rouge">pure</code> can be converted to <code class="language-plaintext highlighter-rouge">view</code> and <code class="language-plaintext highlighter-rouge">non-payable</code>
</h4>
<h4 id="22-view-can-be-converted-to-non-payable">
<a class="anchor" href="#22-view-can-be-converted-to-non-payable" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.2 <code class="language-plaintext highlighter-rouge">view</code> can be converted to <code class="language-plaintext highlighter-rouge">non-payable</code>
</h4>
<h4 id="23-non-payable-can-be-converted-to-payable">
<a class="anchor" href="#23-non-payable-can-be-converted-to-payable" aria-hidden="true"><span class="octicon octicon-link"></span></a>2.3 <code class="language-plaintext highlighter-rouge">non-payable</code> can be converted to <code class="language-plaintext highlighter-rouge">payable</code>
</h4>

<h3 id="3-a-short-mock-implementation-of-this-concept">
<a class="anchor" href="#3-a-short-mock-implementation-of-this-concept" aria-hidden="true"><span class="octicon octicon-link"></span></a>3. A short mock implementation of this concept</h3>

<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">// SPDX-License-Identifier: MIT
</span>
<span class="k">pragma</span> <span class="n">solidity</span> <span class="o">^</span><span class="mf">0.8</span><span class="p">.</span><span class="mi">11</span><span class="p">;</span>

<span class="k">contract</span> <span class="n">FunctionParameter</span> <span class="p">{</span>

    <span class="kt">uint256</span> <span class="k">public</span> <span class="n">currentSupply</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>

    <span class="k">function</span> <span class="n">increaseSupply</span><span class="p">(</span><span class="kt">uint256</span> <span class="n">_newSupply</span><span class="p">)</span> <span class="k">public</span> <span class="k">returns</span><span class="p">(</span><span class="kt">uint256</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">uint256</span> <span class="n">_currentSupply</span> <span class="o">=</span> <span class="n">currentSupply</span><span class="p">;</span>
        <span class="n">_changeSupply</span><span class="p">(</span><span class="n">_currentSupply</span><span class="p">,</span> <span class="n">_newSupply</span><span class="p">,</span> <span class="n">_add</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">currentSupply</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">function</span> <span class="n">decreaseSupply</span><span class="p">(</span><span class="kt">uint256</span> <span class="n">_decreaseSupplyBy</span><span class="p">)</span> <span class="k">public</span> <span class="k">returns</span><span class="p">(</span><span class="kt">uint256</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">uint256</span> <span class="n">_currentSupply</span> <span class="o">=</span> <span class="n">currentSupply</span><span class="p">;</span>
        <span class="n">_changeSupply</span><span class="p">(</span><span class="n">_currentSupply</span><span class="p">,</span> <span class="n">_decreaseSupplyBy</span><span class="p">,</span> <span class="n">_sub</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">currentSupply</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">function</span> <span class="n">fundMe</span><span class="p">()</span> <span class="k">external</span> <span class="k">payable</span><span class="p">{}</span>

<span class="c1">////////////////////////
// Internal functions
////////////////////////
</span>
    <span class="k">function</span> <span class="n">_changeSupply</span><span class="p">(</span><span class="kt">uint256</span> <span class="n">a</span><span class="p">,</span> <span class="kt">uint256</span> <span class="n">b</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="kt">uint256</span><span class="p">,</span> <span class="kt">uint256</span><span class="p">)</span> <span class="k">internal</span> <span class="k">pure</span> <span class="k">returns</span><span class="p">(</span><span class="kt">uint256</span><span class="p">)</span> <span class="n">foo</span><span class="p">)</span> <span class="k">internal</span> <span class="k">returns</span><span class="p">(</span><span class="kt">uint256</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">currentSupply</span> <span class="o">=</span> <span class="n">foo</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">currentSupply</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">function</span> <span class="n">_add</span><span class="p">(</span><span class="kt">uint256</span> <span class="n">a</span><span class="p">,</span> <span class="kt">uint256</span> <span class="n">b</span><span class="p">)</span> <span class="k">internal</span> <span class="k">pure</span> <span class="k">returns</span> <span class="p">(</span><span class="kt">uint256</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">function</span> <span class="n">_sub</span><span class="p">(</span><span class="kt">uint256</span> <span class="n">a</span><span class="p">,</span> <span class="kt">uint256</span> <span class="n">b</span><span class="p">)</span> <span class="k">internal</span> <span class="k">pure</span> <span class="k">returns</span><span class="p">(</span><span class="kt">uint256</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span> <span class="o">?</span> <span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="p">)</span> <span class="o">:</span> <span class="mi">0</span> <span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p>Similarly as this was done for <code class="language-plaintext highlighter-rouge">internal</code> function calls, you can use this concept for <code class="language-plaintext highlighter-rouge">external</code> function calls.</p>

<blockquote>
  <p>Note: One obvious but important thing to note here is that the internal functions can only be called inside the current contract (including library functions and inherited functions) because they cannot be executed outside of the context of the current contract.</p>
</blockquote>

  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="saxenism/saxenism-expressions"
        issue-term="title"
        label="blogpost-comment"
        theme="github-dark"
        crossorigin="anonymous"
        async>
</script><div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'https://saxenism.com/web3/language-tricks/intermediate/solidity/2022/09/27/Solidity-Functions-As-Params.html';
      this.page.identifier = 'https://saxenism.com/web3/language-tricks/intermediate/solidity/2022/09/27/Solidity-Functions-As-Params.html';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript><a class="u-url" href="/web3/language-tricks/intermediate/solidity/2022/09/27/Solidity-Functions-As-Params.html" hidden></a>
</article>
