"use strict";(self.webpackChunksaxenism_personal_website=self.webpackChunksaxenism_personal_website||[]).push([[8966],{3905:(e,n,t)=>{t.d(n,{Zo:()=>s,kt:()=>y});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=a.createContext({}),c=function(e){var n=a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},s=function(e){var n=c(e.components);return a.createElement(p.Provider,{value:n},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=c(t),d=r,y=u["".concat(p,".").concat(d)]||u[d]||m[d]||o;return t?a.createElement(y,i(i({ref:n},s),{},{components:t})):a.createElement(y,i({ref:n},s))}));function y(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,i=new Array(o);i[0]=d;var l={};for(var p in n)hasOwnProperty.call(n,p)&&(l[p]=n[p]);l.originalType=e,l[u]="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=t[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},2207:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var a=t(7462),r=(t(7294),t(3905));const o={slug:"functions-as-params",title:"Solidity - Passing functions as parameters",authors:{name:"Rahul Saxena",title:"EVM Enjoyoor",url:"https://twitter.com/saxenism",image_url:"https://pbs.twimg.com/profile_images/1554486619914117126/7QV7CHum_400x400.jpg"},tags:["web3","language-tricks","intermediate","solidity"]},i=void 0,l={permalink:"/blog/functions-as-params",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2022-09-27-Solidity-Functions-As-Params.md",source:"@site/blog/2022-09-27-Solidity-Functions-As-Params.md",title:"Solidity - Passing functions as parameters",description:"Function Types",date:"2022-09-27T00:00:00.000Z",formattedDate:"September 27, 2022",tags:[{label:"web3",permalink:"/blog/tags/web-3"},{label:"language-tricks",permalink:"/blog/tags/language-tricks"},{label:"intermediate",permalink:"/blog/tags/intermediate"},{label:"solidity",permalink:"/blog/tags/solidity"}],readingTime:1.985,hasTruncateMarker:!0,authors:[{name:"Rahul Saxena",title:"EVM Enjoyoor",url:"https://twitter.com/saxenism",image_url:"https://pbs.twimg.com/profile_images/1554486619914117126/7QV7CHum_400x400.jpg",imageURL:"https://pbs.twimg.com/profile_images/1554486619914117126/7QV7CHum_400x400.jpg"}],frontMatter:{slug:"functions-as-params",title:"Solidity - Passing functions as parameters",authors:{name:"Rahul Saxena",title:"EVM Enjoyoor",url:"https://twitter.com/saxenism",image_url:"https://pbs.twimg.com/profile_images/1554486619914117126/7QV7CHum_400x400.jpg",imageURL:"https://pbs.twimg.com/profile_images/1554486619914117126/7QV7CHum_400x400.jpg"},tags:["web3","language-tricks","intermediate","solidity"]},prevItem:{title:"Solidity - Bit Packing",permalink:"/blog/bit-packing"},nextItem:{title:"Welcome",permalink:"/blog/welcome"}},p={authorsImageUrls:[void 0]},c=[{value:"Function Types",id:"function-types",level:2},{value:"Example",id:"example",level:2},{value:"1. Format of function types is the following:",id:"1-format-of-function-types-is-the-following",level:3},{value:"2. Conversions",id:"2-conversions",level:3},{value:"2.1 <code>pure</code> can be converted to <code>view</code> and <code>non-payable</code>",id:"21-pure-can-be-converted-to-view-and-non-payable",level:4},{value:"2.2 <code>view</code> can be converted to <code>non-payable</code>",id:"22-view-can-be-converted-to-non-payable",level:4},{value:"2.3 <code>non-payable</code> can be converted to <code>payable</code>",id:"23-non-payable-can-be-converted-to-payable",level:4},{value:"3. A short mock implementation of this concept",id:"3-a-short-mock-implementation-of-this-concept",level:3}],s={toc:c},u="wrapper";function m(e){let{components:n,...t}=e;return(0,r.kt)(u,(0,a.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"function-types"},"Function Types"),(0,r.kt)("p",null,"For official documentations follow this ",(0,r.kt)("a",{parentName:"p",href:"https://docs.soliditylang.org/en/v0.8.11/types.html#function-types"},"link"),"."),(0,r.kt)("p",null,"So, in Solidity, you can pass functions themselves as parameters to other functions. These type of parameters are called function types."),(0,r.kt)("p",null,"These function types can be used to pass and return functions from function calls."),(0,r.kt)("h2",{id:"example"},"Example"),(0,r.kt)("h3",{id:"1-format-of-function-types-is-the-following"},"1. Format of function types is the following:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"function (<parameter types>) {internal | external} [pure | view | payable] [returns(<return types>)]\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note : Function types can only be internal or external. Also, the ",(0,r.kt)("inlineCode",{parentName:"p"},"return types")," cannot be empty if the function in question does not return anything, in this case, completely omit the ",(0,r.kt)("inlineCode",{parentName:"p"},"returns")," keyword.")),(0,r.kt)("h3",{id:"2-conversions"},"2. Conversions"),(0,r.kt)("p",null,"function ",(0,r.kt)("inlineCode",{parentName:"p"},"A")," can be converted to function ",(0,r.kt)("inlineCode",{parentName:"p"},"B")," if they identical parameter types, identical return types, identical internal/external propery, and state mutability of ",(0,r.kt)("inlineCode",{parentName:"p"},"A")," is more restrictive than ",(0,r.kt)("inlineCode",{parentName:"p"},"B"),"."),(0,r.kt)("p",null,"Since ",(0,r.kt)("inlineCode",{parentName:"p"},"view")," says that no state will be changed whereas ",(0,r.kt)("inlineCode",{parentName:"p"},"pure")," says no state variable will be changed or read. Therefore, ",(0,r.kt)("inlineCode",{parentName:"p"},"pure")," is more restrictive than ",(0,r.kt)("inlineCode",{parentName:"p"},"view")),(0,r.kt)("p",null,"Also, rememeber that all ",(0,r.kt)("inlineCode",{parentName:"p"},"non-payable")," functions are ",(0,r.kt)("inlineCode",{parentName:"p"},"payable")," (accepting 0 Ether), but no non-payable is payable. Therefore ",(0,r.kt)("inlineCode",{parentName:"p"},"non-payable")," is more restrictive. "),(0,r.kt)("p",null,"So,"),(0,r.kt)("h4",{id:"21-pure-can-be-converted-to-view-and-non-payable"},"2.1 ",(0,r.kt)("inlineCode",{parentName:"h4"},"pure")," can be converted to ",(0,r.kt)("inlineCode",{parentName:"h4"},"view")," and ",(0,r.kt)("inlineCode",{parentName:"h4"},"non-payable")),(0,r.kt)("h4",{id:"22-view-can-be-converted-to-non-payable"},"2.2 ",(0,r.kt)("inlineCode",{parentName:"h4"},"view")," can be converted to ",(0,r.kt)("inlineCode",{parentName:"h4"},"non-payable")),(0,r.kt)("h4",{id:"23-non-payable-can-be-converted-to-payable"},"2.3 ",(0,r.kt)("inlineCode",{parentName:"h4"},"non-payable")," can be converted to ",(0,r.kt)("inlineCode",{parentName:"h4"},"payable")),(0,r.kt)("h3",{id:"3-a-short-mock-implementation-of-this-concept"},"3. A short mock implementation of this concept"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-solidity"},"\n// SPDX-License-Identifier: MIT\n\npragma solidity ^0.8.11;\n\ncontract FunctionParameter {\n\n    uint256 public currentSupply = 100;\n\n    function increaseSupply(uint256 _newSupply) public returns(uint256) {\n        uint256 _currentSupply = currentSupply;\n        _changeSupply(_currentSupply, _newSupply, _add);\n        return currentSupply;\n    }\n\n    function decreaseSupply(uint256 _decreaseSupplyBy) public returns(uint256) {\n        uint256 _currentSupply = currentSupply;\n        _changeSupply(_currentSupply, _decreaseSupplyBy, _sub);\n        return currentSupply;\n    }\n\n    function fundMe() external payable{}\n\n////////////////////////\n// Internal functions\n////////////////////////\n\n    function _changeSupply(uint256 a, uint256 b, function(uint256, uint256) internal pure returns(uint256) foo) internal returns(uint256) {\n        currentSupply = foo(a, b);\n        return currentSupply;\n    }\n    \n    function _add(uint256 a, uint256 b) internal pure returns (uint256) {\n        return (a + b);\n    }\n\n    function _sub(uint256 a, uint256 b) internal pure returns(uint256) {\n        return (a > b ? (a - b) : 0 );\n    }\n}\n\n")),(0,r.kt)("p",null,"Similarly as this was done for ",(0,r.kt)("inlineCode",{parentName:"p"},"internal")," function calls, you can use this concept for ",(0,r.kt)("inlineCode",{parentName:"p"},"external")," function calls. "),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Note: One obvious but important thing to note here is that the internal functions can only be called inside the current contract (including library functions and inherited functions) because they cannot be executed outside of the context of the current contract.")))}m.isMDXComponent=!0}}]);